<!DOCTYPE html>
<html ng-app="store">
	<head>
		<title>Learning Angular</title>
		<meta charset="UTF-8">
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="css/style.css">
		<script type="text/javascript" src="js/angular.min.js"></script>
		<script type="text/javascript" src="js/app.js"></script>
		<script type="text/javascript" src="js/mainScript.js"></script>
	</head>

	<body class="list-group" ng-controller="StoreController as store">
		<header>

	      <h1 class="text-center"> <img src="imgs/even3.png">Mini-Reddit</h1>
	      <h2 class="text-center">– an Angular Application –</h2>
	    </header>		
		<div class="sizeLimitter">

			<div class="list-group-item" ng-repeat="posts in store.posts">
			
				<div class="postWrapper" ng-controller="postController as postCtrl">
					<h4 class="postTitle" id="postTitle" ng-click="postCtrl.hideShowBody()"><a>{{posts.title}}</a></h4>

					<div ng-show="postCtrl.bodyValue">
						<br>
						{{posts.body}}

						<br><br> 

					</div>
					<br><br>

					Post Written By: {{store.users[posts.userId-1].username}}
					<br>
					Contact Info: {{store.users[posts.userId-1].email}}
					<br><br>
					<a ng-click="postCtrl.getComments(posts.id)">Comments</a>
					<div class="list-group-item" ng-repeat="showComents in postCtrl.postComents" ng-show="postCtrl.commentValue">

						<br>
						{{showComents.body}}
						<br><br>
						By: {{showComents.email}}
					</div>
					<br><br>
					<form name="commentForm" ng-submit="commentForm .$valid && postCtrl.addComment(postCtrl.postComents, posts.id)" ng-show="postCtrl.commentValue">
						<fieldset class="form-group">
							<textarea ng-model="postCtrl.addedComment.body" class="form-control" placeholder="Type your comment in here." title="comment" required></textarea>
						</fieldset>
						<fieldset class="form-group">
							<input ng-model="postCtrl.addedComment.email" type="email" class="form-control" placeholder="FinnTheHuman@candyKingdom.ooo" title="email" required>
						</fieldset>

						<fieldset class="form-group">
							<input type="submit" class="btn btn-primary pull-right" value="Submit Comment">
						</fieldset>

					</form>

				</div>



			</div>
			
      	</div>
	</body>
</html>